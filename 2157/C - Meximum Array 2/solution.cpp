#include <bits/stdc++.h>using namespace std; #define int long long int#define endl '\n'#define all(x) x.begin(), x.end() void solve(){    int n, k, q; cin >> n >> k >> q;     vector<int> a(n + 1), b(n + 1);    int x = 0;     while(q--){        int c, l, r; cin >> c >> l >> r;        if(c == 1){            for(int i = l; i <= r; i++){                a[i] = k;            }        }        else{            for(int i = l; i <= r; i++){                b[i] = 1;            }        }     }     for(int i = 1; i <= n; i++){        if(a[i] == k and b[i] == 1){            a[i] = k + 1;        }        if(a[i] == 0) a[i] = i % k;    }     for(int i = 1; i <= n; i++) cout << a[i] << ' '; cout << '\n';} int32_t main(){    ios_base::sync_with_stdio(0);    cin.tie(0);    int t = 1;    cin >> t;    while (t--)        solve();    return 0;}