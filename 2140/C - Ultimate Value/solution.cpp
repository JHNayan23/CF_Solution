#include <bits/stdc++.h>using namespace std;Â #define int long long int#define endl '\n'#define all(x) x.begin(), x.end()Â void solve(){    int n;    cin >> n;    int a[n + 2];    int ans = 0;    for (int i = 1; i <= n; i++)    {        cin >> a[i];        if (i & 1)            ans += a[i];        else            ans -= a[i];    }    int sum = ans;    if (n % 2)        ans += (n - 1);    else        ans += (n - 2);    int evmn = 1e18;    int odmx = -1e18;    for (int i = 1; i <= n; i++)    {        if (i % 2)        {            ans = max(ans, sum + i - 2 * a[i] + odmx);            evmn = min(evmn, 2 * a[i] + i);        }        else        {            ans = max(ans, sum + i + 2 * a[i] - evmn);            odmx = max(odmx, 2 * a[i] - i);        }    }    cout << ans << endl;}int32_t main(){    ios_base::sync_with_stdio(0);    cin.tie(0);    int t = 1;    cin >> t;    while (t--)        solve();    return 0;}