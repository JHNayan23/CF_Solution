#include <bits/stdc++.h>using namespace std; #define int long long int#define endl '\n'#define all(x) x.begin(), x.end() void solve(){    int n;    cin >> n;    vector<int> arr(n);    for (auto &it : arr)        cin >> it;    map<int, int> mp;    for (auto &it : arr)        mp[it]++;    int ans = 0, cnt = 0;    vector<int> v;    for (auto &[f, s] : mp)    {        while (s >= 2)            ans += 2 * f, cnt += 2, s -= 2;        if (s)            v.push_back(f);    }    if (ans == 0)    {        cout << "0\n";        return;    }    sort(all(v));    reverse(all(v));    for (int i = 0; i < (int)v.size() - 1; i++)    {        int x = v[i], y = v[i + 1];        if (x < ans + y)        {            ans += x + y;            cout << ans << '\n';            return;        }    }    for (int i = 0; i < (int)v.size(); i++)    {        if (v[i] < ans)        {            ans += v[i];            cout << ans << '\n';            return;        }    }    if (cnt == 2)        ans = 0;    cout << ans << '\n';}int32_t main(){    ios_base::sync_with_stdio(0);    cin.tie(0);    int t = 1;    cin >> t;    while (t--)        solve();    return 0;}