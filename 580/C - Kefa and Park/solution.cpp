#include <bits/stdc++.h>using namespace std; #define int long long int#define endl '\n'#define all(x) x.begin(), x.end()const int N = 1e5 + 5;vector<int> g[N];int vis[N];int mark[N];int n, k, ans = 0; void dfs(int u, int cnt){    vis[u] = 1;    if(mark[u]) cnt++;    else cnt = 0;    if(cnt > k) return;     if(g[u].size() == 1 and u != 1) ans++;     for(auto v : g[u]){        if(!vis[v]) dfs(v, cnt);    }} void solve(){    cin >> n >> k;    for(int i = 1; i <= n; i++) cin >> mark[i];     int edge = n - 1;    while(edge--){        int u, v; cin >> u >> v;        g[u].push_back(v);        g[v].push_back(u);    }     dfs(1, 0);    cout << ans << '\n';} int32_t main(){    ios_base::sync_with_stdio(0);    cin.tie(0);    int t = 1;    //cin >> t;    while (t--)        solve();    return 0;}