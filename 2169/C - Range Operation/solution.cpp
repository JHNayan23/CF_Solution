#include <bits/stdc++.h>using namespace std; #define int long long int#define endl '\n'#define all(x) x.begin(), x.end() void solve(){    int n; cin >> n;    int a[n], change[n];    int sum = 0;    for(int i = 0; i < n; i++){        cin >> a[i];        sum += a[i];        change[i] = 2*(i + 1) - a[i];    }     int mx = 0, s = 0;    for(int i = 0; i < n; i++){        s += change[i];        if(s < 0) s = 0;        mx = max(mx, s);    }    cout << sum + mx << '\n';}int32_t main(){    ios_base::sync_with_stdio(0);    cin.tie(0);    int t = 1;    cin >> t;    while (t--)        solve();    return 0;}