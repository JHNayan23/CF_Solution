#include <bits/stdc++.h>using namespace std; #define int long long int#define endl '\n'#define all(x) x.begin(), x.end() void solve(){    int n; cin >> n;    vector<int> a(n);    for (int i = 0; i < n; i++) cin >> a[i];    int sum = 0;    for (int i = 0; i + 1 < n; i++) sum += abs(a[i] - a[i + 1]);    int ans = sum;     ans = min(ans, sum - abs(a[0] - a[1]));    ans = min(ans, sum - abs(a[n - 2] - a[n - 1]));    for (int k = 1; k <= n - 2; k++){        int cur = sum;        cur -= abs(a[k - 1] - a[k]);        cur -= abs(a[k] - a[k + 1]);        cur += abs(a[k - 1] - a[k + 1]);        ans = min(ans, cur);    }    cout << ans << "\n";} int32_t main(){    ios_base::sync_with_stdio(0);    cin.tie(0);    int t = 1;    cin >> t;    while (t--)        solve();    return 0;}