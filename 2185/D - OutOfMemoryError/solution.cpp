#include <bits/stdc++.h>using namespace std; #define int long long int#define all(x) x.begin(), x.end() struct SegTree {    int n;    vector<long long> mx, baseMx, lazyAdd;    vector<char> lazyReset;     SegTree(int n=0): n(n) {}     void init(const vector<long long>& base) {        n = (int)base.size();        mx.assign(4*n, 0);        baseMx.assign(4*n, 0);        lazyAdd.assign(4*n, 0);        lazyReset.assign(4*n, 0);        build(1, 0, n-1, base);    }     void build(int v, int tl, int tr, const vector<long long>& base) {        lazyAdd[v] = 0;        lazyReset[v] = 0;        if (tl == tr) {            mx[v] = base[tl];            baseMx[v] = base[tl];            return;        }        int tm = (tl + tr) / 2;        build(v*2, tl, tm, base);        build(v*2+1, tm+1, tr, base);        pull(v);    }     void pull(int v) {        mx[v] = max(mx[v*2], mx[v*2+1]);        baseMx[v] = max(baseMx[v*2], baseMx[v*2+1]);    }     void applyReset(int v) {        mx[v] = baseMx[v];        lazyReset[v] = 1;        lazyAdd[v] = 0;    }     void applyAdd(int v, long long add) {        mx[v] += add;        lazyAdd[v] += add;    }     void push(int v) {        if (lazyReset[v]) {            applyReset(v*2);            applyReset(v*2+1);            lazyReset[v] = 0;        }        if (lazyAdd[v] != 0) {            applyAdd(v*2, lazyAdd[v]);            applyAdd(v*2+1, lazyAdd[v]);            lazyAdd[v] = 0;        }    }     void pointAdd(int pos, long long add) { pointAdd(1, 0, n-1, pos, add); }     void pointAdd(int v, int tl, int tr, int pos, long long add) {        if (tl == tr) {            mx[v] += add;            return;        }        push(v);        int tm = (tl + tr) / 2;        if (pos <= tm) pointAdd(v*2, tl, tm, pos, add);        else pointAdd(v*2+1, tm+1, tr, pos, add);        pull(v);    }     void resetAll() { applyReset(1); }     long long getMax() const { return mx[1]; }     void collect(vector<long long>& out) { collect(1, 0, n-1, out); }     void collect(int v, int tl, int tr, vector<long long>& out) {        if (tl == tr) {            out[tl] = mx[v];            return;        }        push(v);        int tm = (tl + tr) / 2;        collect(v*2, tl, tm, out);        collect(v*2+1, tm+1, tr, out);    }}; void solve(){    int n, m, h; cin >> n >> m >> h;    vector<int> a(n);    for(auto &i : a) cin >> i;    SegTree st;    st.init(a);     for(int i = 0; i < m; i++){        int b, c; cin >> b >> c;        b--;        st.pointAdd(b, c);        if(st.getMax() > h) st.resetAll();    }    vector<int> ans(n);    st.collect(ans);    for(auto x : ans) cout << x << ' '; cout << '\n';} int32_t main(){    ios_base::sync_with_stdio(0);    cin.tie(0);    int t = 1;    cin >> t;    while (t--)        solve();    return 0;}