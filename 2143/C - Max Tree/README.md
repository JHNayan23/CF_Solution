<h3><a href="https://codeforces.com/contest/2143/problem/C" target="_blank" rel="noopener noreferrer">Max Tree</a></h3>

<div class="header"><div class="title">C. Max Tree</div><div class="time-limit"><div class="property-title">time limit per test</div>2 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>256 megabytes</div><div class="input-file input-standard"><div class="property-title">input</div>standard input</div><div class="output-file output-standard"><div class="property-title">output</div>standard output</div></div><div><p>  </p><p>You are given a tree consisting of $$$n$$$ vertices, numbered from $$$1$$$ to $$$n$$$. Each of the $$$n - 1$$$ edges is associated with two non-negative integers $$$x$$$ and $$$y$$$.</p><p>Consider a permutation$$$^{\text{∗}}$$$ $$$p$$$ of the integers $$$1$$$ through $$$n$$$, where $$$p_i$$$ represents the value assigned to vertex $$$i$$$.</p><p>For an edge $$$(u, v)$$$, such that $$$u < v$$$ with associated values $$$x$$$ and $$$y$$$, its <span class="tex-font-style-bf">contribution</span> is defined as follows: $$$$$$ \begin{cases} x & \text{if } p_u > p_v, \\ y & \text{otherwise.} \end{cases} $$$$$$</p><p>The <span class="tex-font-style-bf">value</span> of the permutation is the sum of the contributions from all edges.</p><p>Your task is to find any permutation $$$p$$$ that <span class="tex-font-style-bf">maximizes</span> this total value.</p><div class="statement-footnote"><p>$$$^{\text{∗}}$$$A permutation of length $$$n$$$ is an array consisting of $$$n$$$ distinct integers from $$$1$$$ to $$$n$$$ in arbitrary order. For example, $$$[2,3,1,5,4]$$$ is a permutation, but $$$[1,2,2]$$$ is not a permutation ($$$2$$$ appears twice in the array), and $$$[1,3,4]$$$ is also not a permutation ($$$n=3$$$ but there is $$$4$$$ in the array). </p></div></div><div class="input-specification"><div class="section-title">Input</div><p>Each test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \le t \le 10^4$$$). The description of the test cases follows. </p><p>The first line contains a single integer $$$n$$$ ($$$2 \le n \le 2 \cdot 10^5$$$) — the number of vertices in the tree.</p><p>Each of the next $$$n - 1$$$ lines contains four integers $$$u$$$, $$$v$$$, $$$x$$$, and $$$y$$$ ($$$1 \le u < v \le n$$$, $$$1 \le x, y \le 10^9$$$) — describing an edge between vertices $$$u$$$ and $$$v$$$ with associated values $$$x$$$ and $$$y$$$. It is guarranteed that the given edges form a tree.</p><p>It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$2 \cdot 10^5$$$. </p></div><div class="output-specification"><div class="section-title">Output</div><p>For each test case, you must output a permutation $$$p$$$ of the integers $$$1$$$ through $$$n$$$ that maximizes the total value as defined in the problem. If there are multiple answers, you can print any of them.</p></div><div class="sample-tests"><div class="section-title">Example</div><div class="sample-test"><div class="input"><div class="title">Input<div title="Copy" data-clipboard-target="#id006478629607080105" id="id00974695764450695" class="input-output-copier">Copy</div></div><pre id="id006478629607080105"><div class="test-example-line test-example-line-even test-example-line-0">3</div><div class="test-example-line test-example-line-odd test-example-line-1">3</div><div class="test-example-line test-example-line-odd test-example-line-1">1 2 2 1</div><div class="test-example-line test-example-line-odd test-example-line-1">2 3 3 2</div><div class="test-example-line test-example-line-even test-example-line-2">5</div><div class="test-example-line test-example-line-even test-example-line-2">1 2 1 3</div><div class="test-example-line test-example-line-even test-example-line-2">1 5 2 1</div><div class="test-example-line test-example-line-even test-example-line-2">2 4 5 7</div><div class="test-example-line test-example-line-even test-example-line-2">2 3 1 100</div><div class="test-example-line test-example-line-odd test-example-line-3">5</div><div class="test-example-line test-example-line-odd test-example-line-3">2 5 5 2</div><div class="test-example-line test-example-line-odd test-example-line-3">3 5 4 6</div><div class="test-example-line test-example-line-odd test-example-line-3">4 5 1 5</div><div class="test-example-line test-example-line-odd test-example-line-3">1 5 3 5</div></pre></div><div class="output"><div class="title">Output<div title="Copy" data-clipboard-target="#id0024958233709093747" id="id003158368574145636" class="input-output-copier">Copy</div></div><pre id="id0024958233709093747"><div class="test-example-line test-example-line-odd test-example-line-1">3 2 1 </div><div class="test-example-line test-example-line-even test-example-line-2">2 3 5 4 1 </div><div class="test-example-line test-example-line-odd test-example-line-3">1 5 2 3 4 </div></pre></div></div></div><div class="note"><div class="section-title">Note</div><p>In the first test case:</p><p>Consider the permutation $$$p = [3, 2, 1]$$$. Its value is $$$5 = 2 + 3$$$. Here's why: </p><ul> <li> Since $$$p_1 > p_2$$$, the first edge contributes $$$+2$$$. </li><li> Since $$$p_2 > p_3$$$, the second edge contributes $$$+3$$$. </li></ul><p>The values of some other permutations are as follows: </p><ul> <li> $$$p = [1, 2, 3]$$$ has value $$$1 + 2 = 3$$$. </li><li> $$$p = [1, 3, 2]$$$ has value $$$1 + 3 = 4$$$. </li><li> $$$p = [3, 1, 2]$$$ has value $$$2 + 2 = 4$$$. </li></ul><p>In the second test case:</p><p>The value of $$$p = [2, 3, 5, 4, 1]$$$ is $$$3 + 2 + 7 + 100 = 112$$$. Another possible correct answer is $$$p = [2, 3, 4, 5, 1]$$$.</p></div>