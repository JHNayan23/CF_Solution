#include <bits/stdc++.h>using namespace std; #define int long long int#define endl '\n'#define all(x) x.begin(), x.end() void solve(){    int n;    cin >> n;    string s;    cin >> s;    if (n <= 2)    {        cout << 0 << endl;        return;    }    int a = count(all(s), 'a');    int b = count(all(s), 'b');    int ans1 = 0, ans2 = 0;    int cnt = 0;    for (auto &c : s)    {        if (c == 'a')        {            ans1 += min(cnt, b - cnt);            continue;        }        cnt++;    }    cnt = 0;    for (auto &c : s)    {        if (c == 'b')        {            ans2 += min(cnt, a - cnt);            continue;        }        cnt++;    }    cout << min(ans1, ans2) << endl;}int32_t main(){    ios_base::sync_with_stdio(0);    cin.tie(0);    int t = 1;    cin >> t;    while (t--)        solve();    return 0;}