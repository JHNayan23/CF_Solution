#include <bits/stdc++.h>using namespace std; #define int long long int#define all(x) x.begin(), x.end() int n;string s; int yo(int i, int cnt) {    if(i < 0) return -1;    if(s[i] == '(') {        return yo(i - 1, cnt + 1);    } else {        if(cnt >= 2) return n - 2;        return yo(i - 1, cnt);    }} void solve(){    cin >> n >> s;    cout << yo(n - 1, 0) << '\n';} int32_t main(){    ios_base::sync_with_stdio(0);    cin.tie(0);    int t = 1;    cin >> t;    while (t--)        solve();    return 0;}